# 오라클 테이블 만드는 방법 (CREATE, PK, INDEX, COMMENT)
## 1. 테이블 명 / 컬럼 명
> - 테이블, 컬럼 명의 길이는 30byte 문자 (Oracle 12c R2 부터는 128byte)
> - 문자(영문, 한글), 숫자, 특수문자(_, $, #)만 가능
> - 반드시 문자로 시작

## 2. 데이터 타입
> - NUMBER(4) : 4자리의 가변 길이 정수
> - NUMBER(7,2) : 7자리의 가변 길이 정수와 2자리의 가변길이 소수
> - VARCHAR2(10) : 10byte의 가변 길이 문자

## 3. 기본 값
> - 테이블에 값이 입력(INSERT) 될 때 값이 없으면 기본으로 생성되는 값
> - DEFAULT [값(문자, 숫자, 날짜)], 사용하지 않으면 생략 가능

## 4. NULL 허용 여부
> - 기본 값은 NULL 허용이며, NOT NULL 선언 시 해당 컬럼은 NULL 값을 허용하지 않음

## ※ 예제
> 테이블 생성
```
CREATE TABLE emp 
( 
    empno       NUMBER(4)	NOT NULL,
    ename       VARCHAR2(10),
    job         VARCHAR2(9),
    mgr         NUMBER(4),
    hiredate    DATE,
    sal         NUMBER(7,2),
    comm        NUMBER(7,2),
    deptno      NUMBER(2)
);
```
> 테이블 설명 (COMMENT)
```
ALTER TABLE emp ADD CONSTRAINT emp_pk PRIMARY KEY (empno);
```
> 컬럼 설명 (COMMENT)
```
COMMENT ON COLUMN emp.empno IS '사원번호';
```
> 인덱스 생성
> * CREATE INDEX [인덱스명] ON [테이블명]([컬럼명,컬럼명...])
```
CREATE INDEX emp_idx01 ON emp(job, deptno);
```
> 테이블 생성 (PK, COMMENT 포함)
```
CREATE TABLE emp 
( 
    empno       NUMBER(4)	NOT NULL,
    ename       VARCHAR2(10),
    job         VARCHAR2(9),
    mgr         NUMBER(4),
    hiredate    DATE,
    sal         NUMBER(7,2),
    comm        NUMBER(7,2),
    deptno      NUMBER(2),	
    CONSTRAINT emp_pk PRIMARY KEY (empno)
);

COMMENT ON TABLE emp IS '사원정보';

COMMENT ON COLUMN emp.empno IS '사원번호';
COMMENT ON COLUMN emp.ename IS '성명';
COMMENT ON COLUMN emp.job IS '직군';
COMMENT ON COLUMN emp.mgr IS '직속상사';
COMMENT ON COLUMN emp.hiredate IS '입사일';
COMMENT ON COLUMN emp.sal IS '급여';
COMMENT ON COLUMN emp.comm IS '보너스';
COMMENT ON COLUMN emp.deptno IS '부서코드';
```
> 스크립트 참고
```
CREATE TABLE regions (                                                                       /* COMMENT 지역(Table) */
	region_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,                          /* COMMENT 지역ID(PK)  */
	region_name VARCHAR2 (25) DEFAULT NULL                                                   /* COMMENT 지역명      */
);                                                                                           
																				             
CREATE TABLE countries (                                                                     /* COMMENT 국가(Table) */
	country_id CHAR (2) PRIMARY KEY,                                                         /* COMMENT 국가ID(PK)  */
	country_name VARCHAR2 (40) DEFAULT NULL,                                                 /* COMMENT 국가명      */
	region_id NUMBER NOT NULL,                                                               /* COMMENT 지역ID      */
	FOREIGN KEY (region_id) REFERENCES regions (region_id) ON DELETE CASCADE                 
);                                                                                           
																							 
CREATE TABLE locations (                                                                     /* COMMENT 부서소재지(Table) */
	location_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,                         /* COMMENT 부서소재지ID(PK)  */
	street_address VARCHAR2 (40) DEFAULT NULL,                                               /* COMMENT 거리주소명        */
	postal_code VARCHAR2 (12) DEFAULT NULL,                                                  /* COMMENT 우편번호          */
	city VARCHAR2 (30) NOT NULL,                                                             /* COMMENT 도시              */
	state_province VARCHAR2 (25) DEFAULT NULL,                                               /* COMMENT 주지방            */
	country_id CHAR (2) NOT NULL,                                                            /* COMMENT 국가ID            */
	FOREIGN KEY (country_id) REFERENCES countries (country_id) ON DELETE CASCADE             
);                                                                                           
																							 
CREATE TABLE jobs (                                                                          /* COMMENT 수행업무(Table) */
	job_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,                              /* COMMENT 수행업무ID(PK)  */
	job_title VARCHAR2 (35) NOT NULL,                                                        /* COMMENT 수행업무명      */
	min_salary NUMBER (8, 2) DEFAULT NULL,                                                   /* COMMENT 최소급여        */
	max_salary NUMBER (8, 2) DEFAULT NULL                                                    /* COMMENT 최대급여        */
);                                                                                           
																							 
CREATE TABLE departments (                                                                   /* COMMENT 부서(Table) */
	department_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,                       /* COMMENT 부서ID(PK)  */
	department_name VARCHAR2 (30) NOT NULL,                                                  /* COMMENT 부서명      */
	location_id NUMBER DEFAULT NULL,                                                         /* COMMENT 우편번호    */
	FOREIGN KEY (location_id) REFERENCES locations (location_id) ON DELETE CASCADE           /* COMMENT 도시        */
);                                                                                           
																							 
CREATE TABLE employees (                                                                     /* COMMENT 직원(Table) */
	employee_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,                         /* COMMENT 직원ID(PK)  */
	first_name VARCHAR2 (20) DEFAULT NULL,                                                   /* COMMENT 성          */
	last_name VARCHAR2 (25) NOT NULL,                                                        /* COMMENT 이름        */
	email VARCHAR2 (100) NOT NULL,                                                           /* COMMENT 이메일      */
	phone_number VARCHAR2 (20) DEFAULT NULL,                                                 /* COMMENT 전화번호    */
	hire_date DATE NOT NULL,                                                                 /* COMMENT 고용일자    */
	job_id NUMBER NOT NULL,                                                                  /* COMMENT 수행업무ID  */
	salary NUMBER (8, 2) NOT NULL,                                                           /* COMMENT 급여        */
	manager_id NUMBER DEFAULT NULL,                                                          /* COMMENT 관리자ID    */
	department_id NUMBER DEFAULT NULL,                                                       /* COMMENT 부서ID      */
	FOREIGN KEY (job_id) REFERENCES jobs (job_id) ON DELETE CASCADE,                         
	FOREIGN KEY (department_id) REFERENCES departments (department_id) ON DELETE CASCADE,    
	FOREIGN KEY (manager_id) REFERENCES employees (employee_id)                              
);                                                                                           
																							 
CREATE TABLE dependents (                                                                    /* COMMENT 직원부양가족(Table) */
	dependent_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,                        /* COMMENT 직원부양가족ID(PK)  */
	first_name VARCHAR2 (50) NOT NULL,                                                       /* COMMENT 성                  */
	last_name VARCHAR2 (50) NOT NULL,                                                        /* COMMENT 이름                */
	relationship VARCHAR2 (25) NOT NULL,                                                     /* COMMENT 관계                */
	employee_id NUMBER NOT NULL,                                                             /* COMMENT 직원ID              */
	FOREIGN KEY (employee_id) REFERENCES employees (employee_id) ON DELETE CASCADE           
);
```
